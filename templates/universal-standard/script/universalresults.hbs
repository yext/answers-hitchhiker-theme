ANSWERS.addComponent('UniversalResults', Object.assign({}, {
    container: '.js-answersUniversalResults',
    config: Object.assign({}, {
      {{!-- Map each Vertical config's verticalsToConfig --}}
      {{#each verticalConfigs}}
        {{#if verticalKey}}
          '{{verticalKey}}': {
            {{#with (lookup verticalsToConfig verticalKey)}}
              {{> VerticalConfig verticalKey=../verticalKey}}
            {{/with}}
          },
        {{/if}}
      {{/each}}
    }, {
      {{!-- Map the Universal config's verticalsToConfig --}}
      {{#each verticalsToConfig}}
        '{{@key}}': {
          {{> VerticalConfig verticalKey=@key}}
        },
      {{/each}}
    }),
  },
  {{{ json componentSettings.UniversalResults }}}
));

{{#*inline 'VerticalConfig'}}
  modifier: '{{verticalKey}}',
  {{#if cardType}}
    card: {
        cardType: '{{cardType}}'
    },
  {{/if}}
  sectionTitle: {{#if sectionTitle}}'{{sectionTitle}}'{{else}}{{#if label}}'{{label}}'{{else}}'{{verticalKey}}'{{/if}}{{/if}},
  {{#if icon}}
      sectionTitleIconName: '{{icon}}',
  {{/if}}
  {{#if iconUrl}}sectionTitleIconUrl: '{{iconUrl}}',{{/if}}
  viewAllText: {{#if viewAllText}}'{{viewAllText}}'{{else}}'View All'{{/if}},
  {{#if mapConfig}}
    includeMap: true,
    mapConfig: Object.assign({
      apiKey: HitchhikerJS.getDefaultMapApiKey('{{ mapConfig.mapProvider }}')
    }, {{{ json mapConfig }}}),
  {{/if}}
  {{#if universalLimit}}
    transformData: (data) => {
      let results = data.results;
      if (results) {
        results = results.filter((rex, idx) => {
          return idx < {{universalLimit}};
        });
      }
      return Object.assign(data, {
        results: results
      });
    },
  {{/if}}
{{/inline}}
