ANSWERS.addComponent('Map', Object.assign({},
{
  container: '#js-answersMap',
  apiKey: HitchhikerJS.getDefaultMapApiKey(
    {{#if componentSettings.Map.mapProvider}}
      '{{componentSettings.Map.mapProvider}}'
    {{else}}
      {{#with (lookup verticalsToConfig verticalKey)}}
        {{#if mapConfig}}
          '{{mapConfig.mapProvider}}'
        {{/if}}
      {{/with}}
    {{/if}}
  ),
},
{{#with (lookup verticalsToConfig verticalKey)}}
  {{#if mapConfig}}
    {{{json mapConfig}}},
  {{/if}}
{{/with}}
{{{ json componentSettings.Map }}},
{
  {{!-- Add theme default map pin.
        componentSettings overrides verticalsToConfig,
        if both are absent, use defaults. --}}
  pin:
    {{#if componentSettings.Map.pin}}
      {{> templates/vertical-map/script/mappin componentSettings.Map.pin}},
    {{else if (lookup verticalsToConfig verticalKey)}}
      {{#with (lookup verticalsToConfig verticalKey)}}
        {{> templates/vertical-map/script/mappin mapConfig.pin}},
      {{/with}}
    {{else}}
      {{> templates/vertical-map/script/mappin }},
    {{/if}}
}));