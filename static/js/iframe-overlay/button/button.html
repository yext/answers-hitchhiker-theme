<!DOCTYPE html>
<html>
<head data-iframe-height="true">
  <link rel="stylesheet" type="text/css" href="overlay-button.css">
  <script src="overlay-button.js"></script>
  <script>
    window.iFrameResizer = {
      onMessage: function (message) {
        const buttonEl = document.querySelector('.js-OverlayButton');
        switch (message.type) {
          case 'config':
            const config = {
              labelText: '', // TODO (agrow) in a later PR, inject labelText
              backgroundColor: message.backgroundColor,
              foregroundColor: message.foregroundColor
            };

            window.OverlayButtonJS.applyStyling(
              buttonEl, config.backgroundColor, config.foregroundColor);
            window.OverlayButtonJS.attachEventListeners(buttonEl);
            break;
          case 'collapse':
            window.OverlayButtonJS.collapseButton(buttonEl);
            break;
          case 'expand':
            window.OverlayButtonJS.expandButton(buttonEl);
            break;
          default:
            break;
        }
      }
    }
  </script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/4.2.10/iframeResizer.contentWindow.min.js">
  </script>
</head>

<body>
  <button class="OverlayButton js-OverlayButton collapsed">
    <div class="OverlayButton-displayWhenCollapsed js-OverlayButton-displayWhenCollapsed">
      <span class="OverlayButton-icon js-OverlayButton-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
          <path d="M16.5 23l5.5-5.5l4.4-4.4l-2.1-2.1l-7.8 7.8l-7.8-7.8l-2.1 2.1Z"
            opacity="0"
            transform="translate(-4,-4)"
            style="animation: .17s linear both o-reverse-a0_o, .17s linear both o-reverse-a0_d;"/>
          <path d="M14.1 16.9c-1-1.3-1.5-2.9-1.5-4.7c0-4.5 3.6-8.2 8.2-8.2c4.5 0 8.2 3.7 8.2 8.2c0 4.6-3.7 8.2-8.2 8.2c-1.8 0-3.4-0.5-4.7-1.5l-10.1 10.1l-2-2Zm6.7-10c-3 0-5.4 2.4-5.4 5.3c0 3 2.4 5.4 5.4 5.4c2.9 0 5.4-2.4 5.4-5.4c0-2.9-2.5-5.3-5.4-5.3Z"
            fill-rule="evenodd"
            transform="translate(-4,-4)"
            style="animation: .17s linear both o-reverse-a1_o;"/>
          <path d="M20.8 16.2c-2.2 0-4-1.8-4-4c0-2.2 1.8-4 4-4c2.2 0 4 1.8 4 4c0 2.2-1.8 4-4 4m-8.2-4c0 1.8 .5 3.4 1.5 4.7l-10.1 10.1l2 2l10.1-10.1c1.3 1 2.9 1.5 4.7 1.5c4.5 0 8.2-3.6 8.2-8.2c0-4.5-3.7-8.2-8.2-8.2c-4.6 0-8.2 3.7-8.2 8.2Z"
            opacity="0"
            transform="translate(-4,-4)"
            style="animation: .17s linear both o-reverse-a2_o;"/>
          <path d="M14.1 16.9c-1-1.3-1.5-2.9-1.5-4.7c0-4.5 3.6-8.2 8.2-8.2c4.5 0 8.2 3.7 8.2 8.2c0 4.6-3.7 8.2-8.2 8.2c-1.8 0-3.4-0.5-4.7-1.5l-10.1 10.1l-2-2Zm6.7-7.4c-1.5 0-2.7 1.2-2.7 2.7c0 1.5 1.2 2.7 2.7 2.7c1.5 0 2.7-1.2 2.7-2.7c0-1.5-1.2-2.7-2.7-2.7Z"
            opacity="0"
            fill-rule="evenodd"
            transform="translate(-4,-4)"
            style="animation: .17s linear both o-reverse-a3_o;"/>
          <path d="M20.8 14.2c-1.1 0-2-0.9-2-2c0-1.1 .9-2 2-2c1.1 0 2 .9 2 2c0 1.1-0.9 2-2 2m-8.2-2c0 1.8 .5 3.4 1.5 4.7l-10.1 10.1l2 2l10.1-10.1c1.3 1 2.9 1.5 4.7 1.5c4.5 0 8.2-3.6 8.2-8.2c0-4.5-3.7-8.2-8.2-8.2c-4.6 0-8.2 3.7-8.2 8.2Z"
            opacity="0"
            transform="translate(-4,-4)"
            style="animation: .17s linear both o-reverse-a4_o;"/>
        </svg>
      </span>
    </div>
    <div class="OverlayButton-displayWhenExpanded js-OverlayButton-displayWhenExpanded">
      <div class="OverlayButton-icon js-OverlayButton-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
          <path d="M16.1 18.9c1.3 1 2.9 1.5 4.7 1.5c4.5 0 8.2-3.6 8.2-8.2c0-4.5-3.7-8.2-8.2-8.2c-4.6 0-8.2 3.7-8.2 8.2c0 1.8 .5 3.4 1.5 4.7l-10.1 10.1l2 2Z"
            opacity="0"
            transform="translate(-4,-4)"
            style="animation: .17s linear both o-forward-a0_o, .17s linear both o-forward-a0_d;"/>
          <path d="M14.1 16.9c-1-1.3-1.5-2.9-1.5-4.7c0-4.5 3.6-8.2 8.2-8.2c4.5 0 8.2 3.7 8.2 8.2c0 4.6-3.7 8.2-8.2 8.2c-1.8 0-3.4-0.5-4.7-1.5l-10.1 10.1l-2-2Zm6.7-10c-3 0-5.4 2.4-5.4 5.3c0 3 2.4 5.4 5.4 5.4c2.9 0 5.4-2.4 5.4-5.4c0-2.9-2.5-5.3-5.4-5.3Z"
            fill-rule="evenodd"
            transform="translate(-4,-4)"
            style="animation: .17s linear both o-forward-a1_o;"/>
          <path d="M20.8 16.2c-2.2 0-4-1.8-4-4c0-2.2 1.8-4 4-4c2.2 0 4 1.8 4 4c0 2.2-1.8 4-4 4m-8.2-4c0 1.8 .5 3.4 1.5 4.7l-10.1 10.1l2 2l10.1-10.1c1.3 1 2.9 1.5 4.7 1.5c4.5 0 8.2-3.6 8.2-8.2c0-4.5-3.7-8.2-8.2-8.2c-4.6 0-8.2 3.7-8.2 8.2Z"
            opacity="0"
            transform="translate(-4,-4)"
            style="animation: .17s linear both o-forward-a2_o;"/>
          <path d="M14.1 16.9c-1-1.3-1.5-2.9-1.5-4.7c0-4.5 3.6-8.2 8.2-8.2c4.5 0 8.2 3.7 8.2 8.2c0 4.6-3.7 8.2-8.2 8.2c-1.8 0-3.4-0.5-4.7-1.5l-10.1 10.1l-2-2Zm6.7-7.4c-1.5 0-2.7 1.2-2.7 2.7c0 1.5 1.2 2.7 2.7 2.7c1.5 0 2.7-1.2 2.7-2.7c0-1.5-1.2-2.7-2.7-2.7Z"
            opacity="0"
            fill-rule="evenodd"
            transform="translate(-4,-4)"
            style="animation: .17s linear both o-forward-a3_o;"/>
          <path d="M20.8 14.2c-1.1 0-2-0.9-2-2c0-1.1 .9-2 2-2c1.1 0 2 .9 2 2c0 1.1-0.9 2-2 2m-8.2-2c0 1.8 .5 3.4 1.5 4.7l-10.1 10.1l2 2l10.1-10.1c1.3 1 2.9 1.5 4.7 1.5c4.5 0 8.2-3.6 8.2-8.2c0-4.5-3.7-8.2-8.2-8.2c-4.6 0-8.2 3.7-8.2 8.2Z"
            opacity="0"
            transform="translate(-4,-4)"
            style="animation: .17s linear both o-forward-a4_o;"/>
        </svg>
      </div>
    </div>
  </button>
</body>
</html>